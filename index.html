<!DOCTYPE html>
<html lang="uz">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="Sofi_Osh.png">
  <title>Sofi Osh Markazi</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: url('https://i.pinimg.com/1200x/45/0e/d5/450ed5474455f3a7b1b800f6ce61058f.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #333;
    }

    header {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .cart-icon {
      position: absolute;
      right: 40px;
      top: 15px;
      background: #e53935;
      padding: 6px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
    }

    .container {      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      padding: 15px;
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      text-align: center;
      animation: slideUp 0.6s ease forwards;
      transform: translateY(60px);
      opacity: 0;
    }

    @keyframes slideUp {
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .card img {
      width: 100%;
      border-radius: 10px;
      height: 220px;
      object-fit: cover;
    }

    .card h3 {
      margin: 12px 0 8px;
      font-size: 18px;
    }

    .price {
      font-weight: bold;
      color: #d32f2f;
      margin: 8px 0;
    }

    .btn {
      margin-top: 8px;
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      background: #e53935;
      color: white;
    }

    .btn:hover {
      background: #c62828;
    }

    /* Set yaratish box */
    .box {
      width: 90%;
      margin: 30px auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 14px;
      padding: 15px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
      animation: slideUp 0.8s ease forwards;
      transform: translateY(80px);
      opacity: 0;
    }

    .box-header {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 12px;
      border-bottom: 2px solid #e53935;
      padding-bottom: 6px;
      text-align: center;
      color: #e53935;
    }

    .small-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 12px;
    }

    .small-card {
      background: #fff;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      text-align: center;
      transition: 0.3s;
    }

    .small-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
    }

    .small-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
    }

    .small-card h4 {
      margin: 8px 0 4px;
      font-size: 14px;
    }

    .small-card p {
      font-size: 13px;
      color: #d32f2f;
      font-weight: bold;
    }

    footer {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      text-align: center;
      padding: 15px;
      margin-top: 30px;
    }
  </style>
</head>

<body>

  <!---->
  <!-- === Mobil Header === -->
  <header
    style="background:#f8f8f8; padding:10px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ddd;">
    <h2 data-i18n="title" style="margin:0; font-size:20px; color: #0288d1;">üç¥ Sofi Osh</h2>

    <!-- Cart icon saqlanadi -->
    <div class="cart-icon" onclick="goCheckout()">üõí (<span id="cartCount">0</span>)</div>

    <!-- Hamburger -->
    <div id="hamburger" style=" color: #0288d1; font-size:24px; cursor:pointer;">‚ò∞</div>
  </header>

  <!-- Menu panel (yashirin) -->
  <div id="mobileMenu" style="
  display:none;
  position:fixed;
  top:0; right:0;
  width:250px; height:100%;
  background:#fff;
  box-shadow:-2px 0 6px rgba(0,0,0,0.3);
  z-index:9999;
  padding:20px;
  font-family:sans-serif;
">
    <h3 style="margin-top:0;">üçõ Sofi Osh Markazi</h3>
    <ul style="list-style:none; padding:0; margin:0; font-size:18px;">
      <a href="about-company.html" style="margin:15px 0; cursor:pointer; color: black;">‚ÑπÔ∏è Biz haqimizda</a>
      <br>
      <a href="creator.html" style="margin:15px 0; cursor:pointer; color:black;">üë®‚Äçüíª Programma yaratuvchisi</a>
      <b><p style="margin-top:600px; cursor:pointer;">üìû Aloqa</p></b>
      <a href="tel:+998900845069" style="margin-left: 20px; color:#0288d1; text-decoration:none;">+998(90)084-50-69</a>
      <a href="tel:+998900845069" style="margin-left: 20px; color:#0288d1; text-decoration:none;">+998(90)084-50-69</a>
    </ul>
  </div>

  <script>
    const menu = document.getElementById("mobileMenu");
    const hamburger = document.getElementById("hamburger");

    // Menyuni ochish
    hamburger.onclick = () => {
      menu.style.display = "block";
      document.body.style.overflow = "hidden"; // orqa tomonni scroll qilmaslik
    };

    // Menyuni yopish (faqat tashqariga bosilganda)
    window.addEventListener("click", (e) => {
      if (menu.style.display === "block" &&
        !menu.contains(e.target) &&
        e.target !== hamburger) {
        menu.style.display = "none";
        document.body.style.overflow = "auto";
      }
    });
  </script>

  <style>
    body.dark #mobileMenu {
      background: #1e1e1e;
      color: white;
    }

    #mobileMenu li:hover {
      color: #0288d1;
    }
  </style>

  <!---->

  <div id="restaurantStatus" style="background:#fffae6; text-align:center; padding:10px; font-weight:bold;">
    Restorant holati: <span id="statusText">Yuklanmoqda...</span>
    <!-- Maxfiy admin tugma -->
    <a style="font-size: 13px; color: #d32f2f; font-weight: bold;" href="login.html" id="adminLink" hidden>Admin
      panel</a>
  </div>


  <!-- 3 ta tayyor set -->
  <div class="container">
    <div class="card">
      <img src="oilaviy_set.jpg" alt="Oilaviy Set">
      <h3>Oilaviy set</h3>
      <p>4 pors osh, 1 kampot, 2 salat, 2 ayron, 2 non, choy</p>
      <p class="price">200 000 so‚Äòm</p>
      <button class="btn" onclick="addToCart('Oilaviy set',200000)">Savatga qo‚Äòshish</button>
    </div>
    <div class="card">
      <img src="2kishilik-set.jpg" alt="Ikki kishilik set">
      <h3>Ikki kishilik set</h3>
      <p>2 pors osh, 1 kampot, 1 salat, 1 ayron, 2 non</p>
      <p class="price">105 000 so‚Äòm</p>
      <button class="btn" onclick="addToCart('Ikki kishilik set',105000)">Savatga qo‚Äòshish</button>
    </div>
    <div class="card">
      <img src="1kishilik-set.jfif" alt="Bir kishilik set">
      <h3>Bir kishilik set</h3>
      <p>1 pors osh, 1 kola, 0.7 salat, 1 non</p>
      <p class="price">55 000 so‚Äòm</p>
      <button class="btn" onclick="addToCart('Bir kishilik set',55000)">Savatga qo‚Äòshish</button>
    </div>
  </div>

  <!-- Yangi Set yaratish box -->
  <div class="box">
    <div class="box-header">üçΩ O‚Äòzingizning Setingizni yarating</div>

    <!-- Oshlar -->
    <h3 style="text-align:center; color:#d32f2f; margin:15px 0;">üçõ Oshlar</h3>
    <div class="small-container">
      <div class="small-card">
        <img src="Osh.jpg" alt="Sofi Osh 1 pors">
        <h4>Sofi Osh 1 pors</h4>
        <p>35 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Sofi Osh 1 pors',35000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Osh.jpg" alt="Sofi Osh 0.7 pors">
        <h4>Sofi Osh 0.7 pors</h4>
        <p>32 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Sofi Osh 0.7 pors',32000)">Qo‚Äòshish</button>
      </div>
    </div>

    <!-- Shashlik -->
    <h3 style="text-align:center; color:#d32f2f; margin:15px 0;">Shashlik</h3>
    <div class="small-container">
      <div class="small-card">
        <img src="Shashlik.jpg" alt="Shashlik Aralash 1pors">
        <h4>Shashlik Aralash 1pors</h4>
        <p>115 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Shashlik Aralash 1pors',115000)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Shashlik.jpg" alt="Shashlik Qiyma 1 six">
        <h4>Shashlik Qiyma 1 six</h4>
        <p>25 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Shashlik Qiyma 1 six',25000)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Shashlik.jpg" alt="Shashlik qo‚Äòy go‚Äòshti 1 six">
        <h4>Shashlik qo‚Äòy go‚Äòshti 1 six</h4>
        <p>35 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Shashlik qo‚Äòy go‚Äòshti 1 six',35000)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Shashlik.jpg" alt="Shashlik kuskavoy 1 six">
        <h4>Shashlik kuskavoy 1 six</h4>
        <p>32 500 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Shashlik kuskavoy 1 six',32500)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Mangal.jpg" alt="Mangal mol go‚Äòshti">
        <h4>Mangal mol go‚Äòshti 1kg</h4>
        <p>210 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Mangal mol go‚Äòshti',210000)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Mangal.jpg" alt="Mangal mol go‚Äòshti">
        <h4>Mangal qo‚Äòy go‚Äòshti 1kg</h4>
        <p>210 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Mangal qo‚Äòy go‚Äòshti',210000)">Qo‚Äòshish</button>
      </div>
    </div>
    <div class="small-container">
      <div class="small-card">
        <img src="Mangal.jpg" alt="Mangal tovuq go‚Äòshti">
        <h4>Mangal tovuq go‚Äòshti 1kg</h4>
        <p>70 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Mangal tovuq go‚Äòshti',70000)">Qo‚Äòshish</button>
      </div>
    </div>

    <!-- Salatlar -->
    <h3 style="text-align:center; color:#388e3c; margin:20px 0;">ü•ó Salatlar</h3>
    <div class="small-container">
      <div class="small-card">
        <img src="Sveji_Salat.jpg" alt="Sveji Salat">
        <h4>Sveji Salat (2 kishilik)</h4>
        <p>10 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Sveji Salat',10000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Sveji_Salat.jpg" alt="Sveji Salat">
        <h4>Sveji Salat (1 kishilik)</h4>
        <p>7 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Sveji Salat',7000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Achchiq_Chuchuk.jpg" alt="Achchiq Chuchuk">
        <h4>Achchiq Chuchuk (2 kishilik)</h4>
        <p>10 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Achchiq Chuchuk',10000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Achchiq_Chuchuk.jpg" alt="Achchiq Chuchuk">
        <h4>Achchiq Chuchuk (1 kishilik)</h4>
        <p>7 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Achchiq Chuchuk',7000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Chiroqchi.jpeg" alt="Chiroqchi">
        <h4>Chiroqchi/Co'poncha</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Chiroqchi.jpeg',12000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Golinki.jpg" alt="Golinki">
        <h4>Golinki</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Golinki',12000)">Qo‚Äòshish</button>
      </div>
    </div>

    <!-- Ichimliklar -->
    <h3 style="text-align:center; color:#0288d1; margin:20px 0;">ü•§ Ichimliklar</h3>
    <div class="small-container">
      <div class="small-card">
        <img src="Kampot.jfif" alt="Kampot">
        <h4>Kampot</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Kampot',12000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Ayron.png" alt="Ayron">
        <h4>Ayron</h4>
        <p>8 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Ayron',8000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Coca-Cola.png" alt="Coca-Cola">
        <h4>Coca-Cola 1.5l</h4>
        <p>15 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Coca-Cola',15000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Coca-Cola.png" alt="Coca-Cola">
        <h4>Coca-Cola 1l</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Coca-Cola',12000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Pepsi.png" alt="Pepsi">
        <h4>Pepsi 1.5l</h4>
        <p>15 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Pepsi',15000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Pepsi.png" alt="Pepsi">
        <h4>Pepsi 1l</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Pepsi',12000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Fanta.jpg" alt="Fanta">
        <h4>Fanta 1.5l</h4>
        <p>15 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Fanta',15000)">Qo‚Äòshish</button>
      </div>
      <div class="small-card">
        <img src="Fanta.jpg" alt="Fanta">
        <h4>Fanta 1l</h4>
        <p>12 000 so‚Äòm</p>
        <button class="btn" onclick="addCustom('Fanta',12000)">Qo‚Äòshish</button>
      </div>
    </div>

    <!-- Tanlangan mahsulotlar -->
    <div style="margin-top:20px;">
      <h4>üìù Siz tanlagan mahsulotlar</h4>
      <ul id="customList" style="font-size:13px; line-height:1.4; padding-left:18px; margin:6px 0;"></ul>
      <p><b>Jami:</b> <span id="customTotal">0</span> so‚Äòm</p>
      <div style="text-align:center;margin-top:15px;">
        <button class="btn" onclick="finalizeSet()">‚úÖ Tayyor</button>
      </div>
    </div>
  </div>


  <footer>
    ¬© 2025 Sofi Osh Markazi ‚Äî Barcha huquqlar himoyalangan
  </footer>

  <script>
    function showStatus() {
      let status = localStorage.getItem("restaurantStatus") || "Ochiq";
      document.getElementById("statusText").innerText = status;
    }
    showStatus();

    // =============================================

    // === 1. Kompyuter versiyasi: Shift + A ===
    document.addEventListener("keydown", function (e) {
      if (e.shiftKey && e.key === "A") {
        document.getElementById("adminLink").hidden = false;
        alert("üîë Maxfiy tugma faollashdi! Pastdagi havoladan Admin panelga o‚Äòtishingiz mumkin.");
      }
    });

    // === 2. Telefon versiyasi: 2ta barmoq bilan pastdan tepaga surish ===
    let startTouches = [];

    document.addEventListener("touchstart", function (e) {
      if (e.touches.length === 2) {
        startTouches = [...e.touches].map(t => t.clientY);
      }
    });

    document.addEventListener("touchend", function (e) {
      if (startTouches.length === 2) {
        let endTouches = [...e.changedTouches].map(t => t.clientY);

        // Har ikkala barmoq ham pastdan yuqoriga harakat qilsa
        if (startTouches[0] - endTouches[0] > 100 && startTouches[1] - endTouches[1] > 100) {
          document.getElementById("adminLink").hidden = false;
          alert("üîë Maxfiy tugma faollashdi! Pastdagi havoladan Admin panelga o‚Äòtishingiz mumkin.");
        }

        startTouches = []; // reset
      }
    });

    // =============================================

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let customSet = [];

    function updateCartCount() {
      document.getElementById("cartCount").textContent =
        cart.reduce((a, b) => a + b.qty, 0);
      localStorage.setItem("cart", JSON.stringify(cart));
    }

    function addToCart(name, price) {
      let existing = cart.find(i => i.name === name);
      if (existing) existing.qty++;
      else cart.push({ name, price, qty: 1 });
      updateCartCount();
      alert(name + " savatga qo‚Äòshildi!");
    }

    // Maxsus setga qo‚Äòshish
    function addCustom(name, price) {
      customSet.push({ name, price });
      renderCustomList();
      alert(name + " setga qo‚Äòshildi!");
    }

    // Maxsus set ro‚Äòyxatini chizish
    function renderCustomList() {
      let list = document.getElementById("customList");
      let totalBox = document.getElementById("customTotal");
      list.innerHTML = "";
      let total = 0;
      customSet.forEach((item, index) => {
        let li = document.createElement("li");
        li.textContent = item.name + " - " + item.price.toLocaleString() + " so‚Äòm ";
        // ‚ùå udalit qilish knopkasi
        let delBtn = document.createElement("button");
        delBtn.textContent = "‚ùå";
        delBtn.style.marginLeft = "6px";
        delBtn.onclick = () => {
          customSet.splice(index, 1);
          renderCustomList();
        };
        li.appendChild(delBtn);
        list.appendChild(li);
        total += item.price;
      });
      totalBox.textContent = total.toLocaleString();
    }

    function saveOrderToHistory(order) {
      let history = JSON.parse(localStorage.getItem("history")) || [];
      history.push(order);
      localStorage.setItem("history", JSON.stringify(history));
    }
    function placeOrder(cart) {
      let order = {
        time: new Date().toLocaleString(),
        items: cart.map(i => i.name + " √ó " + i.qty).join(", "),
        total: cart.reduce((a, b) => a + b.price * b.qty, 0)
      };
      saveOrderToHistory(order);
      // keyin telegramga yuborish va checkout.htmlga o‚Äòtish
    }


    function finalizeSet() {
      if (customSet.length === 0) {
        alert("‚ùå Avval mahsulot tanlang!");
        return;
      }
      let total = customSet.reduce((a, b) => a + b.price, 0);

      // Maxsus Setni tarkibi bilan savatga qo‚Äòshamiz
      cart.push({
        name: "Maxsus Set",
        price: total,
        qty: 1,
        components: customSet.map(c => ({ name: c.name, qty: 1 }))
      });

      customSet = [];
      renderCustomList(); // üî• shu joy qo‚Äòshilishi kerak
      updateCartCount();
      alert("‚úÖ Maxsus set savatga qo‚Äòshildi!");
    }


    function goCheckout() {
      window.location.href = "cart.html";
    }

    updateCartCount();
  </script>

</body>

</html>